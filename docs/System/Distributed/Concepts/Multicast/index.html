<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ying-Chiao Chen RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ying-Chiao Chen Atom Feed"><title data-react-helmet="true">Multicast | Ying-Chiao Chen</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://woodcutter-eric.github.io//docs/System/Distributed/Concepts/Multicast"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Multicast | Ying-Chiao Chen"><meta data-react-helmet="true" name="description" content="Last Modified: 2021-7-29"><meta data-react-helmet="true" property="og:description" content="Last Modified: 2021-7-29"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://woodcutter-eric.github.io//docs/System/Distributed/Concepts/Multicast"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/System/Distributed/Concepts/Multicast" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/System/Distributed/Concepts/Multicast" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.47267a07.css">
<link rel="preload" href="/assets/js/runtime~main.a031f887.js" as="script">
<link rel="preload" href="/assets/js/main.d549516c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Note</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Note Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Submarine</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">TODO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Programming</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">System</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Distributed</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Concepts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System/Distributed/Concepts/Membership">Membership</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/System/Distributed/Concepts/Multicast">Multicast</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Database</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Multicast</h1></header><blockquote><p>Last Modified: 2021-7-29</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="introduction">Introduction<a aria-hidden="true" class="hash-link" href="#introduction" title="Direct link to heading">â€‹</a></h2><p>In this section, we introduce the concept of <strong>multicasting</strong>. Transport layer protocols like TCP, UDP provide a way to establish point-to-point communication. However, sometimes we want to send a message to several receivers. In this situation, we can still set up the same number of connections using TCP or UDP, but it may not be that efficient and reliable. We want an efficient way to send messages to a group of members, which is called <strong>multicasting</strong>. We will introduce several ways to add an additional layer on the existing communication layer.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_31ik" id="basic-concepts">Basic Concepts<a aria-hidden="true" class="hash-link" href="#basic-concepts" title="Direct link to heading">â€‹</a></h2><p>Multicasting is actually a superset of broadcasting. In the broadcasting scenario, the sender send a message to all members in the group. On the other hand, multicasting only send to a group of members inside the whole member set. </p><p>In fact, multicasting can be abstracted to broadcasting in a logical way. You can assume that we can build reliable communication between each pair of nodes, no matter how many nodes the connection should pass. Therefore, we can regard multicasting as broadcasting in a logical group. The intermediate nodes are hidden from the logical layer. </p><p>With this abstraction, we transform the mulicasting problem to the broadcasting problem. Our goal is to find an efficient way to send message to the whole logical group. It&#x27;s worth noting that in this section we do not cope with the unreliability of the underlying network. We will address this problem in a separate note.</p><p>In this node, we introduced 3 basic means of broadcasting: tree-based, flooding-based, and gossip-based methods.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="tree-based-method">Tree-based Method<a aria-hidden="true" class="hash-link" href="#tree-based-method" title="Direct link to heading">â€‹</a></h2><p>Figure 1. Tree-based Multicast</p><p><img alt="tree-based" src="/assets/images/tree-based-800ea760becc56738682e1eaf9d1c5fa.png"></p><p>In the tree-based multicasting, we build an minimal spanning tree for a message group, where root is the sender. When the sender want to multicast a messge, it has to first establish this tree. </p><h3 class="anchor anchorWithStickyNavbar_31ik" id="steps">Steps<a aria-hidden="true" class="hash-link" href="#steps" title="Direct link to heading">â€‹</a></h3><p>There are several ways to do this thing. A simple way is to:  </p><ol><li><p>The sender generates a message identifier <code>mid</code>, which is hashed to a <code>hash(mid)</code>. Then the <code>hash(mid)</code> is sent to the specific nodes based on the hashed result. We will use <code>m</code> as the node label.</p></li><li><p>If any node want to receive an message, we send a request to the target node. For example, <code>p</code> wants to receive the message of the target <code>m</code>, it send a request to <code>m</code>. The message will pass along multiple nodes. To make things simple, it will only pass a intermediate node <code>r</code>.</p></li><li><p>When node <code>r</code> receive the message, if it did not forward the message before, it will forward the message to the next node (in this case ,<code>m</code>) and mark <code>p</code> as a child. Otherwise, if another node <code>t</code> send request message through <code>r</code> that is not the first time, <code>r</code> will only mark <code>t</code> as a child, and will not forward the message to <code>m</code>.</p></li><li><p>Finally, the sender just send the <code>send</code> message to node <code>m</code>. As a result, the message will be passed along the tree, and each registered node will receive the message. </p></li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="advanced">Advanced<a aria-hidden="true" class="hash-link" href="#advanced" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_31ik" id="protocols">Protocols<a aria-hidden="true" class="hash-link" href="#protocols" title="Direct link to heading">â€‹</a></h4><h4 class="anchor anchorWithStickyNavbar_31ik" id="switch-tree">Switch tree<a aria-hidden="true" class="hash-link" href="#switch-tree" title="Direct link to heading">â€‹</a></h4><h3 class="anchor anchorWithStickyNavbar_31ik" id="problems">Problems<a aria-hidden="true" class="hash-link" href="#problems" title="Direct link to heading">â€‹</a></h3><p>There are several problems with the tree-based method:</p><ul><li>Tree setup and maintainence</li><li>Only the leaf nodes belong to the message group</li><li>It cannot withstand single node failure. Recall that in a tree, each pair of nodes has only 1 path between each other. Therefore, if an internal node fail, then all its children will not receive the message.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="flooding-method">Flooding Method<a aria-hidden="true" class="hash-link" href="#flooding-method" title="Direct link to heading">â€‹</a></h2><p>Tree-based method minimize the amount of message passing, but if suffers from single point of failure. To make the multicasting more reliable, we have to pass redundant information, and also send the message through more than one path to prevent message loss.   </p><p>To solve this problem, we introduce another method -- <strong>flooding</strong>. A flooding method is that when a node receive a message, it will send message to all its neighbor nodes. The actual implementation may vary, one can use the logical group described above, another can use some internal node for merely passing the message.</p><p>This type of method has a complexity of <code>O(N^2)</code> (<code>1/2 * N * (N-1)</code>)</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="algorithm">Algorithm<a aria-hidden="true" class="hash-link" href="#algorithm" title="Direct link to heading">â€‹</a></h3><h2 class="anchor anchorWithStickyNavbar_31ik" id="gossip-based-methods">Gossip-based Methods<a aria-hidden="true" class="hash-link" href="#gossip-based-methods" title="Direct link to heading">â€‹</a></h2><p>Gossip-based method is also called epidemic protocol, simulating the distribution of a disease. We borrow this concept to distribute information as quickly as possible. </p><p>Gossip-based method is similar to its flooding counterpart, with only a slightly variation. </p><p>We assume we can send message to any member in the group. There are 3 types of scenario: push, pull, and hybrid. </p><p>The complexity is <code>O(NlogN)</code>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="algorithm-1">Algorithm<a aria-hidden="true" class="hash-link" href="#algorithm-1" title="Direct link to heading">â€‹</a></h3><p>The gossip-based method has several rounds, which will run periodically. In the following subsection, we only describe the behavior of each round. It&#x27;s worth noting that we can assume a state is timestamped or versioned, so the node can correctly choose whether to update the local state based on the image. It is shown that push method has the worst performance, while pull and hybrid is nearly the same.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="push">Push<a aria-hidden="true" class="hash-link" href="#push" title="Direct link to heading">â€‹</a></h4><ol><li>We randomly choose a number of nodes as our message receiver.</li><li>We send our local version of state to the receivers.</li><li>We adjust our local version based on the received message.</li></ol><h4 class="anchor anchorWithStickyNavbar_31ik" id="pull">Pull<a aria-hidden="true" class="hash-link" href="#pull" title="Direct link to heading">â€‹</a></h4><ol><li>Periodically, each node randomly choose a list of nodes as message source.</li><li>The node send a request to those nodes asking the state version.</li><li>Based on the response message, we will update the local state.</li></ol><h4 class="anchor anchorWithStickyNavbar_31ik" id="hybrid">Hybrid<a aria-hidden="true" class="hash-link" href="#hybrid" title="Direct link to heading">â€‹</a></h4><p>The hybrid type is the combination of push and pull method.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="conclusion">Conclusion<a aria-hidden="true" class="hash-link" href="#conclusion" title="Direct link to heading">â€‹</a></h2><p>Three types of multicasting -- tree, flooding, gossip -- has different advantage. </p><ul><li>The tree-based method is simple but is not fault-tolerant.</li><li>The flooding-based method is simple and easy to implement, but is not very efficient.</li><li>The gossip-based method use a little more message to serve as redundancy to improve reliability and fault-tolerance.</li></ul><p>One have to choose the correct method to implement, there is not one-size-fits-all solution. But for overall performance, I will recomment implement the gossip-based first because of its simplicity and efficiency.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="reference">Reference<a aria-hidden="true" class="hash-link" href="#reference" title="Direct link to heading">â€‹</a></h2><ul><li>Cloud Computing Specialization, Coursera</li><li>Distributed Systems Principles and Paradigms, Andrew Tanenbaum</li><li>Distributed Systems: Concepts and Design, George Coulouris</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/System/Distributed/Concepts/Membership"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Membership</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/System/Network/Operation/ONOS-Lab"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ONOS + mininet<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-concepts" class="table-of-contents__link toc-highlight">Basic Concepts</a></li><li><a href="#tree-based-method" class="table-of-contents__link toc-highlight">Tree-based Method</a><ul><li><a href="#steps" class="table-of-contents__link toc-highlight">Steps</a></li><li><a href="#advanced" class="table-of-contents__link toc-highlight">Advanced</a></li><li><a href="#problems" class="table-of-contents__link toc-highlight">Problems</a></li></ul></li><li><a href="#flooding-method" class="table-of-contents__link toc-highlight">Flooding Method</a><ul><li><a href="#algorithm" class="table-of-contents__link toc-highlight">Algorithm</a></li></ul></li><li><a href="#gossip-based-methods" class="table-of-contents__link toc-highlight">Gossip-based Methods</a><ul><li><a href="#algorithm-1" class="table-of-contents__link toc-highlight">Algorithm</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Note</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Account</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/chenyingchiao/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/woodcutter-eric/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Eric Chen, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a031f887.js"></script>
<script src="/assets/js/main.d549516c.js"></script>
</body>
</html>