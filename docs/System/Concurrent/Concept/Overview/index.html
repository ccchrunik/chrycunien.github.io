<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ying-Chiao Chen RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ying-Chiao Chen Atom Feed"><title data-react-helmet="true">Overview | Ying-Chiao Chen</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://woodcutter-eric.github.io//docs/System/Concurrent/Concept/Overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Overview | Ying-Chiao Chen"><meta data-react-helmet="true" name="description" content="Concurrency is difficult to get it right. We introduce several issues arise when designing a concurrent system. These issues sometimes are very related to each other."><meta data-react-helmet="true" property="og:description" content="Concurrency is difficult to get it right. We introduce several issues arise when designing a concurrent system. These issues sometimes are very related to each other."><link data-react-helmet="true" rel="shortcut icon" href="/img/planet.svg"><link data-react-helmet="true" rel="canonical" href="https://woodcutter-eric.github.io//docs/System/Concurrent/Concept/Overview"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/System/Concurrent/Concept/Overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/System/Concurrent/Concept/Overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.47267a07.css">
<link rel="preload" href="/assets/js/runtime~main.f8faa482.js" as="script">
<link rel="preload" href="/assets/js/main.9154d942.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Note</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Note Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Submarine</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">TODO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Commons</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Programming</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">System</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Concurrent</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Concept</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/System/Concurrent/Concept/Overview">Overview</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Distributed</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Database</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Overview</h1></header><p>Concurrency is difficult to get it right. We introduce several issues arise when designing a concurrent system. These issues sometimes are very related to each other.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="critical-section">Critical Section<a aria-hidden="true" class="hash-link" href="#critical-section" title="Direct link to heading">â€‹</a></h2><ul><li>A section of your program that needs exclusive access to a shared resource is called a critical section.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="race-conditions">Race Conditions<a aria-hidden="true" class="hash-link" href="#race-conditions" title="Direct link to heading">â€‹</a></h2><ul><li>A race condition occurs when two or more operations must execute in the correct order, but the program has not been written so that this order is guaranteed to be maintained.</li><li>The pitfall is that developers think the code is run sequentially, not concurrently.</li><li>For example, you want to two things at the same time. However, the second one depends on the state of the first one, but it will not wait the state to be fully synchronized. However, when you use 2 concurrent process, it does not guarantee that the first one will be executed before the second one, which cause a race condition.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="atomicity">Atomicity<a aria-hidden="true" class="hash-link" href="#atomicity" title="Direct link to heading">â€‹</a></h2><ul><li>When something is considered atomic, or to have the property of atomicity, this means that within the context that it is operating, it is indivisible, or uninterruptible.</li><li>It means that an operation is either complete done or complete unexecuted.</li><li>For example, you have 3 operation, which is bundled<ul><li>Take out your phone</li><li>Open the text messenger</li><li>Send a photo to your girl friend</li></ul></li><li>Nevertheless, you are confronted with some situation that you need to handle a situation first for about 2 hours.</li><li>You probably will rollback to your original state by just turning closing the messenger, and put you phone aside.</li><li>You will not let the state of your sit in between the bundled operation (unless you don&#x27;t care about your phone battery).</li><li>You either completely send a photo, or just pretend as if nothing happened. You girl friend will either receive a photo or simply nothing.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="memory-access-synchronization">Memory Access Synchronization<a aria-hidden="true" class="hash-link" href="#memory-access-synchronization" title="Direct link to heading">â€‹</a></h2><ul><li>It means the state of two process does not synchronize in their view of memory.</li><li>It commonly happens when we want to modify the state of a resource.</li><li>To modify a resource, you will <ul><li>Fetch the value</li><li>Modify it</li><li>Store it back</li></ul></li><li>Since it is divided into 3 steps, you can not guarantee the modification is valid because the state of the resource may be change before you store it back. Therefore, the effect of some operations may disappeas. </li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For example, we have</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># a = 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Then you want to increment it by 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># There are 2 concurrent process to increment it. We expect the result to be 2.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># After the first one modify the value, but before we store it back, it is preempted by the second one, </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># which complete the whole process.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Therefore, we expect 2 as a result but get 1 because the effect of the second one is shielded by the first one.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="deadlock-livelocks-starvation">Deadlock, Livelocks, Starvation<a aria-hidden="true" class="hash-link" href="#deadlock-livelocks-starvation" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="deadlock">Deadlock<a aria-hidden="true" class="hash-link" href="#deadlock" title="Direct link to heading">â€‹</a></h3><ul><li>A deadlocked program is one in which all concurrent processes are waiting on one another. In this state, the program will never recover without outside intervention.</li><li>Coffman Conditions (detect, prevent, correct deadlock)<ul><li>Mutual Exclusion: A concurrent process holds exclusive rights to a resource at any one time.</li><li>Wait For Condition: A concurrent process must simultaneously hold a resource and be waiting for an additional resource.</li><li>No Preemption: A resource held by a concurrent process can only be released by that process, so it fulfills this condition.</li><li>Circular Wait: A concurrent process (P1) must be waiting on a chain of other concurrent processes (P2), which are in turn waiting on it (P1), so it fulfills this final condition too.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="livelock">Livelock<a aria-hidden="true" class="hash-link" href="#livelock" title="Direct link to heading">â€‹</a></h3><ul><li>Livelocks are programs that are actively performing concurrent operations, but these operations do nothing to move the state of the program forward.</li><li>You can think of 2 person step right and left for a while but do not make any progress</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="starvation">Starvation<a aria-hidden="true" class="hash-link" href="#starvation" title="Direct link to heading">â€‹</a></h3><ul><li>Starvation is any situation where a concurrent process cannot get all the resources it needs to perform work.</li><li>It is related to a greedy process that lock many resources until all its work done.</li><li>This is a trade-off: with coarse-grained synchronization, you increase performance, while with fine-grained synchronization, you opt for fairness.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="misc">Misc<a aria-hidden="true" class="hash-link" href="#misc" title="Direct link to heading">â€‹</a></h2><ul><li>Why mutex is considered expensive?<ul><li>That&#x27;s because it have to synchroize with the memory state so it takes more time than access to its own register or cache</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="references">References<a aria-hidden="true" class="hash-link" href="#references" title="Direct link to heading">â€‹</a></h2><ul><li>Katherine Cox-Buday - Concurrency in Go_ Tools and Techniques for Developers - Oâ€™Reilly Media (2017)</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Programming/Language/Python/Setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Setup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/System/Distributed/Concepts/Membership"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Membership<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#critical-section" class="table-of-contents__link toc-highlight">Critical Section</a></li><li><a href="#race-conditions" class="table-of-contents__link toc-highlight">Race Conditions</a></li><li><a href="#atomicity" class="table-of-contents__link toc-highlight">Atomicity</a></li><li><a href="#memory-access-synchronization" class="table-of-contents__link toc-highlight">Memory Access Synchronization</a></li><li><a href="#deadlock-livelocks-starvation" class="table-of-contents__link toc-highlight">Deadlock, Livelocks, Starvation</a><ul><li><a href="#deadlock" class="table-of-contents__link toc-highlight">Deadlock</a></li><li><a href="#livelock" class="table-of-contents__link toc-highlight">Livelock</a></li><li><a href="#starvation" class="table-of-contents__link toc-highlight">Starvation</a></li></ul></li><li><a href="#misc" class="table-of-contents__link toc-highlight">Misc</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Note</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Account</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/chenyingchiao/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/woodcutter-eric/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Eric Chen, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f8faa482.js"></script>
<script src="/assets/js/main.9154d942.js"></script>
</body>
</html>