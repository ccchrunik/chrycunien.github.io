<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ying-Chiao Chen RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ying-Chiao Chen Atom Feed"><title data-react-helmet="true">Java Builder Patterns | Ying-Chiao Chen</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://woodcutter-eric.github.io//docs/Programming/Design Pattern/Patterns/Builder/Java"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Java Builder Patterns | Ying-Chiao Chen"><meta data-react-helmet="true" name="description" content="HTML Builder"><meta data-react-helmet="true" property="og:description" content="HTML Builder"><link data-react-helmet="true" rel="shortcut icon" href="/img/planet.svg"><link data-react-helmet="true" rel="canonical" href="https://woodcutter-eric.github.io//docs/Programming/Design Pattern/Patterns/Builder/Java"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/Programming/Design Pattern/Patterns/Builder/Java" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://woodcutter-eric.github.io//docs/Programming/Design Pattern/Patterns/Builder/Java" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.47267a07.css">
<link rel="preload" href="/assets/js/runtime~main.f8faa482.js" as="script">
<link rel="preload" href="/assets/js/main.628366e6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Note</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Note Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Submarine</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">TODO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Commons</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Programming</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Design Pattern</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Principle</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Patterns</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Adaptor</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Bridge</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Builder</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Programming/Design Pattern/Patterns/Builder/Go">Go Builder Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Programming/Design Pattern/Patterns/Builder/Java">Java Builder Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Programming/Design Pattern/Patterns/Builder/Overview">Builder Pattern Overview</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Composite</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Decorator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Facade</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Factory</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Prototype</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Singleton</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Language</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">System</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Java Builder Patterns</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="html-builder">HTML Builder<a aria-hidden="true" class="hash-link" href="#html-builder" title="Direct link to heading">â€‹</a></h2><p>A fluent builder is a builder that return <code>this</code>. This allows us to set attributes in a pipeline fashion. </p><p>For brevity, we omit the implementation of the <code>HtmlElement</code>. This element is just a container for storing html elements.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class HtmlBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private String rootName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private HtmlElement root = new HtmlElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public HtmlBuilder(String rootName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.rootName = rootName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.name = rootName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // not fluent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void addChild(String childName, String childText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HtmlElement e = new HtmlElement(childName, childText);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.elements.add(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // fluent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public HtmlBuilder addChildFluent(String childName, String childText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HtmlElement e = new HtmlElement(childName, childText);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.elements.add(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void clear()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root = new HtmlElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.name = rootName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // delegating</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return root.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="recursive-builder">Recursive Builder<a aria-hidden="true" class="hash-link" href="#recursive-builder" title="Direct link to heading">â€‹</a></h2><p>If you are not familiar with the recursive generic in Java, you can see my note in <code>Programming/Chanllenge/Java-Generic</code>. This note provides an quick introduction of Java generic. In this example, what it actually means is to limit the type parameter to be only its subtype of <code>Person</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class PersonBuilder&lt;SELF extends PersonBuilder&lt;SELF&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected Person person = new Person();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // critical to return SELF here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Because this method is own by PersonBuilder, it we return a Person type, then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // the it makes order matters because a Person builder do not know any child method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // By making the return type as SELF, it allows even when a child call this parent method,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // it can return the right type (Employee builder example)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public SELF withName(String name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return self();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // This method is to allow the builder to return itself</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // We separate this to a method to make it can be inherited by its child</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected SELF self()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // unchecked cast, but actually safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // proof: try sticking a non-PersonBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //        as SELF parameter; it won&#x27;t work!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (SELF) this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Person build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return person;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class EmployeeBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  extends PersonBuilder&lt;EmployeeBuilder&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public EmployeeBuilder worksAs(String position)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.position = position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return self();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected EmployeeBuilder self()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This is the demonstration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class RecursiveGenericsDemo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static void main(String[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeBuilder eb = new EmployeeBuilder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .withName(&quot;Dmitri&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .worksAs(&quot;Quantitative Analyst&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(eb.build());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="faceted-builder">Faceted Builder<a aria-hidden="true" class="hash-link" href="#faceted-builder" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class Person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String streetAddress, postcode, city;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // employment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String companyName, position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public int annualIncome;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;Person{&quot; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;streetAddress=&#x27;&quot; + streetAddress + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;, postcode=&#x27;&quot; + postcode + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;, city=&#x27;&quot; + city + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;, companyName=&#x27;&quot; + companyName + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;, position=&#x27;&quot; + position + &#x27;\&#x27;&#x27; +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;, annualIncome=&quot; + annualIncome +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;}&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This builder create a reference of a person. However, in comparison with the previous example, <code>Person</code> class has the complete attributes. What we do here is simple split several builder methods into various class to make the code cleaner. (We delegate some builder methods to subclasses, make it complete some predifined settings.)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// builder facade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PersonBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // the object we&#x27;re going to build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protected Person person = new Person(); // reference!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonJobBuilder works()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new PersonJobBuilder(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonAddressBuilder lives()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new PersonAddressBuilder(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Person build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return person;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PersonAddressBuilder extends PersonBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonAddressBuilder(Person person)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.person = person;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonAddressBuilder at(String streetAddress)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.streetAddress = streetAddress;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonAddressBuilder withPostcode(String postcode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.postcode = postcode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonAddressBuilder in(String city)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.city = city;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PersonJobBuilder extends PersonBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonJobBuilder(Person person)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.person = person;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonJobBuilder at(String companyName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.companyName = companyName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonJobBuilder asA(String position)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.position = position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public PersonJobBuilder earning(int annualIncome)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.annualIncome = annualIncome;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Demo:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class BuilderFacetsDemo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static void main(String[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PersonBuilder pb = new PersonBuilder();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Person person = pb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .lives()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .at(&quot;123 London Road&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .in(&quot;London&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .withPostcode(&quot;SW12BC&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .works()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .at(&quot;Fabrikam&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .asA(&quot;Engineer&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .earning(123000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(person);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="extra-example">Extra Example<a aria-hidden="true" class="hash-link" href="#extra-example" title="Direct link to heading">â€‹</a></h2><p>In this example, we use an inner class as a class builder. The benefit of using inner class is to provide stronger encapsulation. Since what we really care about is to create new <code>User</code> object, it doesn&#x27;t matter how we can accomplish it. By encapsulating the builder class in the main class, it provides a single static interface for other classes to call.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public final class User {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final String nickname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final String password;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final String firstname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final String lastname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final Date created;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private User(UserBuilder builder) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.nickname = builder.nickname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.password = builder.password;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.created = builder.created;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.firstname = builder.firstname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.lastname = builder.lastname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.email = builder.email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static UserBuilder getBuilder(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String nickname, String password) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new User.UserBuilder(nickname, password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static final class UserBuilder {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private final String nickname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private final String password;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private final Date created;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String firstname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String lastname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public UserBuilder(String nickname, String password) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.nickname = nickname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.password = password;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.created = new Date();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public UserBuilder firstName(String firstname) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.firstname = firstname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public UserBuilder lastName(String lastname) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.lastname = lastname;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public UserBuilder email(String email) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.email = email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public User build() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return new User(this);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // omit getters and setters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">import static modern.challenge.User.getBuilder;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User user1 = getBuilder(&quot;marin21&quot;, &quot;hjju9887h&quot;).build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// user with nickname, password and email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User user2 = getBuilder(&quot;ionk&quot;, &quot;44fef22&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .email(&quot;ion@gmail.com&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// user with nickname, password, email, firstname and lastname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User user3 = getBuilder(&quot;monika&quot;, &quot;klooi0988&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .email(&quot;monika@gmail.com&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .firstName(&quot;Monika&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .lastName(&quot;Ghuenter&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="references">References<a aria-hidden="true" class="hash-link" href="#references" title="Direct link to heading">â€‹</a></h2><ul><li>Anghel Leonard - Java Coding Problems</li><li><a href="https://www.udemy.com/course/design-patterns-java/" target="_blank" rel="noopener noreferrer">https://www.udemy.com/course/design-patterns-java/</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Programming/Design Pattern/Patterns/Builder/Go"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Go Builder Patterns</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Programming/Design Pattern/Patterns/Builder/Overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Builder Pattern Overview<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#html-builder" class="table-of-contents__link toc-highlight">HTML Builder</a></li><li><a href="#recursive-builder" class="table-of-contents__link toc-highlight">Recursive Builder</a></li><li><a href="#faceted-builder" class="table-of-contents__link toc-highlight">Faceted Builder</a></li><li><a href="#extra-example" class="table-of-contents__link toc-highlight">Extra Example</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Note</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Account</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/chenyingchiao/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/woodcutter-eric/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/woodcutter-eric" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Eric Chen, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f8faa482.js"></script>
<script src="/assets/js/main.628366e6.js"></script>
</body>
</html>