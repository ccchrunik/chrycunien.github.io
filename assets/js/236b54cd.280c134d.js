(self.webpackChunkyingchiaochen_website=self.webpackChunkyingchiaochen_website||[]).push([[9786],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(n),d=o,m=p["".concat(c,".").concat(d)]||p[d]||h[d]||i;return n?r.createElement(m,a(a({ref:t},u),{},{components:n})):r.createElement(m,a({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4300:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var r=n(4034),o=n(9973),i=(n(7294),n(3905)),a=["components"],l={},c="Overview",s={unversionedId:"System/Concurrent/Concept/Overview",id:"System/Concurrent/Concept/Overview",isDocsHomePage:!1,title:"Overview",description:"Concurrency is difficult to get it right. We introduce several issues arise when designing a concurrent system. These issues sometimes are very related to each other.",source:"@site/docs/System/Concurrent/Concept/Overview.md",sourceDirName:"System/Concurrent/Concept",slug:"/System/Concurrent/Concept/Overview",permalink:"/docs/System/Concurrent/Concept/Overview",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Setup",permalink:"/docs/Programming/Language/Python/Setup"},next:{title:"Membership",permalink:"/docs/System/Distributed/Concepts/Membership"}},u=[{value:"Critical Section",id:"critical-section",children:[],level:2},{value:"Race Conditions",id:"race-conditions",children:[],level:2},{value:"Atomicity",id:"atomicity",children:[],level:2},{value:"Memory Access Synchronization",id:"memory-access-synchronization",children:[],level:2},{value:"Deadlock, Livelocks, Starvation",id:"deadlock-livelocks-starvation",children:[{value:"Deadlock",id:"deadlock",children:[],level:3},{value:"Livelock",id:"livelock",children:[],level:3},{value:"Starvation",id:"starvation",children:[],level:3}],level:2},{value:"Misc",id:"misc",children:[],level:2},{value:"References",id:"references",children:[],level:2}],h={toc:u};function p(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Concurrency is difficult to get it right. We introduce several issues arise when designing a concurrent system. These issues sometimes are very related to each other."),(0,i.kt)("h2",{id:"critical-section"},"Critical Section"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A section of your program that needs exclusive access to a shared resource is called a critical section.")),(0,i.kt)("h2",{id:"race-conditions"},"Race Conditions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A race condition occurs when two or more operations must execute in the correct order, but the program has not been written so that this order is guaranteed to be maintained."),(0,i.kt)("li",{parentName:"ul"},"The pitfall is that developers think the code is run sequentially, not concurrently."),(0,i.kt)("li",{parentName:"ul"},"For example, you want to two things at the same time. However, the second one depends on the state of the first one, but it will not wait the state to be fully synchronized. However, when you use 2 concurrent process, it does not guarantee that the first one will be executed before the second one, which cause a race condition.")),(0,i.kt)("h2",{id:"atomicity"},"Atomicity"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"When something is considered atomic, or to have the property of atomicity, this means that within the context that it is operating, it is indivisible, or uninterruptible."),(0,i.kt)("li",{parentName:"ul"},"It means that an operation is either complete done or complete unexecuted."),(0,i.kt)("li",{parentName:"ul"},"For example, you have 3 operation, which is bundled",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Take out your phone"),(0,i.kt)("li",{parentName:"ul"},"Open the text messenger"),(0,i.kt)("li",{parentName:"ul"},"Send a photo to your girl friend"))),(0,i.kt)("li",{parentName:"ul"},"Nevertheless, you are confronted with some situation that you need to handle a situation first for about 2 hours."),(0,i.kt)("li",{parentName:"ul"},"You probably will rollback to your original state by just turning closing the messenger, and put you phone aside."),(0,i.kt)("li",{parentName:"ul"},"You will not let the state of your sit in between the bundled operation (unless you don't care about your phone battery)."),(0,i.kt)("li",{parentName:"ul"},"You either completely send a photo, or just pretend as if nothing happened. You girl friend will either receive a photo or simply nothing.")),(0,i.kt)("h2",{id:"memory-access-synchronization"},"Memory Access Synchronization"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"It means the state of two process does not synchronize in their view of memory."),(0,i.kt)("li",{parentName:"ul"},"It commonly happens when we want to modify the state of a resource."),(0,i.kt)("li",{parentName:"ul"},"To modify a resource, you will ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Fetch the value"),(0,i.kt)("li",{parentName:"ul"},"Modify it"),(0,i.kt)("li",{parentName:"ul"},"Store it back"))),(0,i.kt)("li",{parentName:"ul"},"Since it is divided into 3 steps, you can not guarantee the modification is valid because the state of the resource may be change before you store it back. Therefore, the effect of some operations may disappeas. ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# For example, we have\n# a = 0\n# Then you want to increment it by 1\n# There are 2 concurrent process to increment it. We expect the result to be 2.\n# After the first one modify the value, but before we store it back, it is preempted by the second one, \n# which complete the whole process.\n# Therefore, we expect 2 as a result but get 1 because the effect of the second one is shielded by the first one.\n")),(0,i.kt)("h2",{id:"deadlock-livelocks-starvation"},"Deadlock, Livelocks, Starvation"),(0,i.kt)("h3",{id:"deadlock"},"Deadlock"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A deadlocked program is one in which all concurrent processes are waiting on one another. In this state, the program will never recover without outside intervention."),(0,i.kt)("li",{parentName:"ul"},"Coffman Conditions (detect, prevent, correct deadlock)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Mutual Exclusion: A concurrent process holds exclusive rights to a resource at any one time."),(0,i.kt)("li",{parentName:"ul"},"Wait For Condition: A concurrent process must simultaneously hold a resource and be waiting for an additional resource."),(0,i.kt)("li",{parentName:"ul"},"No Preemption: A resource held by a concurrent process can only be released by that process, so it fulfills this condition."),(0,i.kt)("li",{parentName:"ul"},"Circular Wait: A concurrent process (P1) must be waiting on a chain of other concurrent processes (P2), which are in turn waiting on it (P1), so it fulfills this final condition too.")))),(0,i.kt)("h3",{id:"livelock"},"Livelock"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Livelocks are programs that are actively performing concurrent operations, but these operations do nothing to move the state of the program forward."),(0,i.kt)("li",{parentName:"ul"},"You can think of 2 person step right and left for a while but do not make any progress")),(0,i.kt)("h3",{id:"starvation"},"Starvation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Starvation is any situation where a concurrent process cannot get all the resources it needs to perform work."),(0,i.kt)("li",{parentName:"ul"},"It is related to a greedy process that lock many resources until all its work done."),(0,i.kt)("li",{parentName:"ul"},"This is a trade-off: with coarse-grained synchronization, you increase performance, while with fine-grained synchronization, you opt for fairness.")),(0,i.kt)("h2",{id:"misc"},"Misc"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Why mutex is considered expensive?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"That's because it have to synchroize with the memory state so it takes more time than access to its own register or cache")))),(0,i.kt)("h2",{id:"references"},"References"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Katherine Cox-Buday - Concurrency in Go_ Tools and Techniques for Developers - O\u2019Reilly Media (2017)")))}p.isMDXComponent=!0}}]);